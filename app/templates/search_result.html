<!DOCTYPE html>

<html>

<head>
    <title>知道百科</title>
    <meta charset="utf-8"/>
    <link rel="stylesheet" type="text/css" href="/static/css/style.css">
    <link rel="stylesheet" href="https://cdn.staticfile.org/twitter-bootstrap/3.3.7/css/bootstrap.min.css">
	<script src="https://cdn.staticfile.org/jquery/2.1.1/jquery.min.js"></script>
	<script src="https://cdn.staticfile.org/twitter-bootstrap/3.3.7/js/bootstrap.min.js"></script>
</head>

<body>

<div class="mt-3" align="center">

    <div>
        <form action="/s" method="GET">
            <input type="text" name="keyword" placeholder="{{ kw }}" style="width: 600px;"/>
            <input type="submit" value="搜索" class="button w-10"/>
            <input type="hidden" name="page" value=1/>
        </form>
    </div>

    <div class="h-2">

    </div>

    <div class="pl-1 pr-1 pt-1 pb-1 w-60" align="left">
        <div class="font-13 font-italic">
            <p>有关“{{ kw }}”的搜索结果共{{ num }}条</p>
        </div>

        {% for type, result in results %}
            {% if type == 'zd' %}
            <!-- zhidao item -->
            <div class="mt-2">
                <div class="font-20 lh-24">
                    <span style="font-size: 18px">[知道]</span>&emsp;<a href="{{ url_for('zd_detail', id=result.doc_id )}}">{{ result.question.text }}</a>
                </div>
                <div class="font-16 lh-20 mt-1">
                    <p>{{ result.answers[0].text }}</p>
                </div>
                <div class="font-13 lh-16 mt-1">
                    <p>{{ result.answers[0].t }}&emsp;回答者:{{ result.answers[0].user }}&emsp;{{ result.answers[0].likes }}</p>
                </div>
            </div>
            {% elif type == 'bk' %}
            <!-- baike item -->
            <div class="mt-2">
                <div class="font-20 lh-24">
                    <span style="font-size: 18px">[百科]</span>&emsp;<a href="{{ url_for('bk_detail', id=result.doc_id) }}" >{{ result.title }}</a>
                </div>
                <div class="font-16 lh-20 mt-1">
                    <p>{{ result.description }}</p>
                </div>
            </div>
            {% endif %}
        {% endfor %}
        
    </div>

    <div class="container">
        <ul class="pagination">
            {% if cur == 1 %}
            <li><span class="font-black">首页</span></li>
            {% else %}
            <li><a href="s?keyword={{ kw }}&page=1">首页</a></li>
            {% endif %}
            {% if lp != 1 %}
            <li><span class="font-black">...</span></li>
            {% endif %}
            {% for i in range(lp, rp) %}
                {% if i == cur %}
                <li><span class="font-black">{{ i }}</span></li>
                {% else %}
                <li><a href="s?keyword={{ kw }}&page={{ i }}">{{ i }}</a></li>
                {% endif %}
            {% endfor %}
            {% if cur != total %}
            <li><a href="s?keyword={{ kw }}&page={{ cur+1 }}"> &gt; </a></li>
            {% else %}
            <li><span class="font-black">&gt</span></li>
            {% endif %}
        </ul>
    </div>

</div>

</body>

</html>
